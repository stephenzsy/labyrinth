extends layout

block scripts
    script(type="text/javascript", src='angular/latest/angular-resource.min.js')
    script(type="text/javascript", src='javascripts/icarus.js')

block content
    div.col-lg-10(ng-controller='icarus')
        h1.page-header= title
            br
            small Deployment Dashboard
        div#instances
            h2 Current Running Instances
            table.table
                tr
                    th Instance ID
                    th Image ID
                    th Public IP
                    th Public DNS
                    th Subnet ID
                tr(ng-repeat='instance in instances')
                    td {{instance['InstanceId']}}
                    td {{instance['ImageId']}}
                    td {{instance['PublicIpAddress']}}
                    td {{instance['PublicDnsName']}}
                    td {{instance['SubnetId']}}
        div#localSettings
            h2 Local Settings
            table.table
                tr
                    th App ID
                    th Commit ID
                tr(ng-repeat='appId in appIds')
                    td {{appId}}
                    td {{currentApp[appId]['commitId']}}
        div#localArtifacts
            h2 Local Artifacts
    div.col-lg-2(data-spy='affix', data-offset-top="60", data-offset-bottom="200")
        ul.nav.nav-list
            li
                a(href='#instances') Instances
            li
                a(href='#localSettings') Local Settings
            li
                a(href='#localArtifacts') Local Artifacts
